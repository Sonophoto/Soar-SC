sp {propose*gather-minerals
   (state <s> ^name Soar-SC
              ^io.input-link <i>)
   (<i> ^resources.mineral <r>
        ^units.unit <u>)
   (<r> ^id <id>)
   (<u> ^worker 1
        ^idle 1
        ^id <id-o>)
-->
   (<s> ^operator <o> +)
   (<o> ^name gather-minerals
        ^id-dest <id>
        ^id-object <id-o>)
}

sp {apply*gather-minerals
   (state <s> ^name Soar-SC
              ^operator <op>
              ^io.output-link <o>)
   (<op> ^name gather-minerals
         ^id-dest <id>
         ^id-object <id-o>)
-->
   (<o> ^move <m>)
   (<m> ^object <id-o>
        ^dest <id>)
}


sp {propose*query-svs-scv
   (state <s> ^superstate <ss>)
   (<ss> ^last-operator <o>
         ^impasse tie)
   (<o> ^name gather-minerals)
-->
   (<s> ^operator <op> + =)
   (<op> ^name query-svs)
}

sp {apply*query-svs-scv
   (state <s> ^superstate <ss>
              ^operator.name query-svs)
   (<ss> ^io.input-link <i>)
   (<i> ^resources.mineral <m>
        ^units.unit <u>)
   (<ss> ^svs.command <c>)
   (<u> ^svsobject <id-unit>)
   (<m> ^svsobject <id-mineral>)
-->
   (<ss> ^extract-info <i>)
   (<i> ^cmd <node1> ^count 1 ^expected-params <p>)
   (<c> ^extract <cmd>)
   (<cmd> ^type closet ^a <node1> ^b <node2>)
   (<node1> ^type combine ^<id-unit> <unit>)
   (<unit> ^type node ^id <id-unit>)
   (<node2> ^type combine ^<id-mineral> <mineral>)
   (<mineral> ^type node ^id <id-mineral>)
}

sp {propose*result-of-query-to-svs-scv
   (state <s> ^superstate <ss>)
   (<ss> ^last-operator <o>
         ^impasse tie
         ^svs.command.extract <e>)
   (<o> ^name gather-minerals)
   (<e> ^status success)
-->
   (<s> ^operator <op>)
   (<op> ^name result-svs-scv
         ^)
}

sp {apply*result-of-query-to-svs-scv
   (state <s> ^ 
   
   
   
   
  